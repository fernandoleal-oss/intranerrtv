-- Remover índice de idempotência temporariamente
DROP INDEX IF EXISTS idx_finance_events_idempotent;

-- Inserir dados de AGOSTO 2025
INSERT INTO finance_events (ref_month, cliente, ap, descricao, fornecedor, valor_fornecedor_cents, honorario_percent, honorario_agencia_cents, total_cents) VALUES
('2025-08-01', 'BRIDGSTONES', '27.738', 'PNEU NOVO, TANQUE CHEIO', 'CANJA', 2030000, 10, 203000, 2233000),
('2025-08-01', 'BRIDGSTONES', '27.528', 'BOLEIA - CAMINHÃO', 'CAIO SOARES DIRECAO DE ARTE', 2010000, 10, 201000, 2211000),
('2025-08-01', 'BRIDGSTONES', '27.709', 'PEGADA', 'LE MONSTER', 4400000, 10, 440000, 4840000),
('2025-08-01', 'BYD', 'CC-8.8', 'CLOSED CAPTION CAMPANHA 8.8', 'INTERNO', 0, 0, 450000, 450000),
('2025-08-01', 'BYD', '27.723', 'REGISTRO ANCINE RAKING 1X30', 'RAIZ STUDIO', 960500, 0, 0, 960500),
('2025-08-01', 'BYD', 'LOC-001', 'LOCUÇÃO E REGRAVAÇÃO', 'SUBSOUND AUDIO PRODUÇÕES LTDA', 1100000, 0, 0, 1100000),
('2025-08-01', 'BYD', 'ANIM-001', 'ANIMAÇÃO DE LETREIRO', 'MONALISA STUDIO LTDA.', 989500, 0, 989500, 1979000),
('2025-08-01', 'BYD', '27.788', 'COMPRA DE IMAGEM: ID: 2389551123', 'SHUTTERSTOCK', 460000, 0, 0, 460000),
('2025-08-01', 'BYD', '27.866', 'VAREJO SONG PRO 0105 - AUDIO', 'SUBSOUND AUDIO PRODUÇÕES LTDA', 1400000, 0, 0, 1400000),
('2025-08-01', 'BYD', '27.866', 'VAREJO SONG PRO 0105 - VIDEO', 'MONALISA STUDIO LTDA.', 2600000, 0, 2600000, 5200000),
('2025-08-01', 'BYD', '27.870', 'DOLPHIN MINI | FILME EMERSON - AUDIO', 'SUBSOUND AUDIO PRODUÇÕES LTDA', 1400000, 0, 0, 1400000),
('2025-08-01', 'BYD', '27.870', 'DOLPHIN MINI | FILME EMERSON - VIDEO', 'MONALISA STUDIO LTDA.', 1550000, 0, 1550000, 3100000),
('2025-08-01', 'BYD', '27.894', 'REGISTRO ANCINE | FILME DOLPHIN MINI', 'CUSTO INTERNO', 446626, 0, 0, 446626),
('2025-08-01', 'BYD', '27.901', 'COMPRA DE IMAGEM ID: 1308231094', 'GETTY IMAGES', 300000, 0, 0, 300000),
('2025-08-01', 'BYD', '27.902', 'COMPRA DE IMAGEM ID: 3549650059', 'SHUTTERSTOCK', 127300, 0, 0, 127300),
('2025-08-01', 'SHOPEE', 'SHOP-8.8', 'CLOSED CAPTION CAMPANHA 8.8', 'INTERNO', 0, 0, 450000, 450000);

-- Inserir dados de SETEMBRO 2025
INSERT INTO finance_events (ref_month, cliente, ap, descricao, fornecedor, valor_fornecedor_cents, honorario_percent, honorario_agencia_cents, total_cents) VALUES
('2025-09-01', 'BYD', '28.186', 'BYD SONG PRO - varejo 30 versao 2 de 5', 'SUBSOUND AUDIO', 1400000, 0, 1400000, 1400000),
('2025-09-01', 'BYD', '28.189', 'BYD SONG PRO - varejo 5 versao 3 de 5', 'MONALISA STUDIO LTDA.', 1000000, 0, 1000000, 1000000),
('2025-09-01', 'BYD', '28.190-A', 'VAREJO SONG PRO 0405 - AUDIO', 'SUBSOUND AUDIO', 1050000, 0, 1050000, 1050000),
('2025-09-01', 'BYD', '28.190-V', 'VAREJO SONG PRO 0405 - VIDEO', 'MONALISA STUDIO LTDA.', 950000, 0, 950000, 950000),
('2025-09-01', 'BYD', '28.096', 'COMPRA DE IMAGEM', 'SHUTTERSTOCK', 460000, 0, 460000, 460000),
('2025-09-01', 'BYD', '28.106', 'REGISTRO ANCINE | BYD - Dolphin Mini 2026', 'INTERNO', 555022, 0, 555022, 555022),
('2025-09-01', 'BYD', '28.192-A', 'ANIMAÇÃO DE LETREIRO', 'MONALISA STUDIO LTDA.', 2599978, 0, 2599978, 2599978),
('2025-09-01', 'BYD', '28.192-T', '01 trilha composta de 30 com vocal + reducoes', 'ANTFOOD', 6500000, 0, 6500000, 6500000),
('2025-09-01', 'BYD', '28.116', 'COMPRA DE IMAGEM: ID 1701646153', 'SHUTTERSTOCK', 115000, 0, 115000, 115000),
('2025-09-01', 'BYD', '28.124', 'DENZA - CAMPANHA - LANÇAMENTO NO BRASIL', 'SHUTTERSTOCK', 115000, 0, 115000, 115000),
('2025-09-01', 'BYD', '28.129', 'REGISTRO CONDECINE INTITUCIONAL', '02 FILMES', 558300, 0, 558300, 558300),
('2025-09-01', 'BYD', 'SAT-001', 'Locutor voz + adaptacao de trilha Satelite', 'SUBSOUND AUDIO', 1400000, 0, 1400000, 1400000),
('2025-09-01', 'BYD', 'LET-001', 'Edicao, letterings e animacao de letreiros', 'MONALISA STUDIO LTDA.', 2600000, 0, 2600000, 2600000),
('2025-09-01', 'BYD', '28.127', 'BYD | SONG PLUS | FILME MARINA RUY', 'MELANINA FILMES', 1735951, 0, 1735951, 1735951);

-- Recriar o índice de idempotência
CREATE UNIQUE INDEX idx_finance_events_idempotent 
ON finance_events (ref_month, ap, fornecedor, total_cents, md5(descricao));